<!-- <div ng-show="diffErrorMessage != null">
  <font color="red">{{diffErrorMessage}}</font>
</div>
<div ng-show="diffSuccessMessage != null">
  <font color="green">{{diffSuccessMessage}}</font>
</div> -->

<div class="DashboardGraphs">
  <div class="btn-group" style="position: absolute; right: 35px;">
    <button id="diffAppButton" class="btn btn-xs btn-primary">{{version_commit}}</button>
  </div>
  <div class="box">
    <div>
      <p>Source Environment:</p>
      <select style="width: 170px" ng-model="env1" ng-change="getDataEnv1()">
        <option
          ng-repeat="env1option in diffEnvironments.versions"
          ng-value="env1option.id"
          >{{env1option.name}}</option
        >
      </select>
      <!-- {{env1}} -->
  
    </div>
    <div>
      <p>Target Environment:</p>
      <select style="width: 170px" ng-model="env2" ng-change="getDataEnv2()">
        <option
          ng-repeat="env2option in diffEnvironments.versions"
          ng-value="env2option.id"
          >{{env2option.name}}</option
        >
      </select>
      <!-- {{env2}} -->

    </div>

    <!-- <br>{{env1VersionChoosen}}<br>{{env1Version}}<br> -->
  </div>
  <!-- <br>{{env2VersionChoosen}}<br>{{env2Version}}<br> -->

  <div>

  </div>

  <div class="box">
    <button
      id="diffCompareButton"
      class="SmartSearch-keyToggle btn"
      ng-click="compare()"
    >
      Compare
    </button>
  </div>

  <div class="box" ng-hide="diffView==='APP_CFG' && final != null">
    <div>
      <div class="card_radio" ng-class="{green_box: env1version.name === 'master'}" ng-repeat="env1version in env1Versions track by $index" ng-hide="env1version.target === env2Version.target">
        <input type="radio" ng-value="env1version.name" name="env1" ng-model="$parent.env1VersionChoosen" ng-change="setVersionEnv1()"/>
        <label for="env1version.name" ng-show="env1version.name !== 'master'">{{env1version.name}}</label>
        <label for="env1version.name" ng-show="env1version.name === 'master'">Actual</label>
        <span class="commit_date" ng-bind="env1version.commit.committed_date | date:'dd-MM-yyyy HH:mm'"></span>
        <div>
          <div class="commit_info">
            <p>{{env1version.target}}</p>
            <p><i class="fa fa-user"></i> {{env1version.commit.committer_name}}</p>
            <p><i class="fa fa-envelope"></i> {{env1version.commit.committer_email}}</p>
          </div>
        </div>
      </div>
    </div>
    <div>
      <form ng-model="env2VersionChoosen" ng-change="setVersionEnv2()">
        <div class="card_radio" ng-class="{green_box: env2version.name === 'master', blue_box: env2version.name === 'current'}" ng-repeat="env2version in env2Versions track by $index" ng-hide="env2version.target === env1Version.target">
          <input type="radio" ng-value="env2version.name" name="env2" ng-model="$parent.env2VersionChoosen" ng-change="setVersionEnv2()"/>
          <label for="env2version.name" ng-show="env2version.name !== 'master' && env2version.name !== 'current'">{{env2version.name}}</label>
          <label for="env2version.name" ng-show="env2version.name === 'master'">Actual</label>
          <label for="env2version.name" ng-show="env2version.name === 'current'">Current</label>
          <span class="commit_date" ng-bind="env2version.commit.committed_date | date:'dd-MM-yyyy HH:mm'"></span>
          <div>
            <div class="commit_info">
              <p>{{env2version.target}}</p>
              <p><i class="fa fa-user" ng-hide="env2version.name === 'current'"></i> {{env2version.commit.committer_name}}</p>
              <p><i class="fa fa-envelope" ng-hide="env2version.name === 'current'"></i> {{env2version.commit.committer_email}}</p>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="box" ng-show="diffView==='APP_CFG' && final != null">
    <div class="card_radio" ng-class="{green_box: env1Version.name === 'master', blue_box: env2Version === 'current'}">
      <div class="card_head">
        <p ng-show="env1Version.name !== 'master' && env1Version !== 'current'"><strong>{{env1Version.name}}</strong></p>
        <p ng-show="env1Version.name === 'master'"><strong>Actual</strong></p>
        <p ng-show="env1Version.name === 'current'"><strong>Current</strong></p>
        <span class="commit_date" ng-bind="env1Version.commit.committed_date | date:'dd-MM-yyyy HH:mm'"></span>
      </div>
      <div class="commit_info">
        <p>{{env1Version.target}}</p>
        <p><i class="fa fa-user"></i> {{env1Version.commit.committer_name}}</p>
        <p><i class="fa fa-envelope"></i> {{env1Version.commit.committer_email}}</p>
      </div>
    </div>
    <div class="card_radio" ng-class="{green_box: env2Version.name === 'master', blue_box: env2Version.name === 'current'}">
      <div class="card_head">
        <p ng-show="env2Version.name !== 'master' && env2Version !== 'current'"><strong>{{env2Version.name}}</strong></p>
        <p ng-show="env2Version.name === 'master'"><strong>Actual</strong></p>
        <span class="commit_date" ng-bind="env2Version.commit.committed_date | date:'dd-MM-yyyy HH:mm'"></span>
      </div>
      <div class="commit_info">
        <p>{{env2Version.target}}</p>
        <p><i class="fa fa-user" ng-show="!!env2Version.commit.committer_name"></i> {{env2Version.commit.committer_name}}</p>
        <p><i class="fa fa-envelope" ng-show="!!env2Version.commit.committer_email"></i> {{env2Version.commit.committer_email}}</p>
      </div>
    </div>
  </div>

  <!-- {{env1Data}}
{{env2Data}} -->

  <!-- <p><b>Filter</b>
<input type="text" size="40" ng-model="diffFilter">
</p> -->

  <!-- <br> -->

  <!-- <p>
<input type="checkbox" size="40" ng-model="showDiffOnly">
<b>Show only differencies</b>
</p>

<p>
<input type="checkbox" size="40" ng-model="showDiffTables">
<b>Show as tables</b>
</p>
<br>
<button id="diffReportButton" class="SmartSearch-keyToggle btn" ng-click="generatePDF()">Report</button>    
<br><br> -->
</div>

<div ng-show="diffView==='APP_CFG' && final != null && final['status'] === 'failed'" class="DashboardGraphs error" style="background-color: #f8d7da;
border: 1px solid #f5c6cb; padding-bottom: 20px;">
  <i class="fa fa-warning"></i> Something went wrong. See log <a ng-href="#/jobs/playbook/{{final['job']}}">here...</a>
</div>

<div
  ng-show="diffView==='APP_CFG' && final != null && final['status'] !== 'failed'"
  class="DashboardGraphs"
>
  <button class="btn btn-primary" ng-click="exportPDF()">Export to PDF</button>
  <button class="btn btn-primary" ng-click="PrintDiv()">Print to PDF</button>
  <br /> <br />
  <div id="printContainer">
    <table
      border="1"
      class="diff_table"
      ng-repeat="(key, value) in final"
      id="diff_table"
    >
      <tr ng-click="collapseView(key)" class="clps">
        <td ng-if="key === 'new_value'">New values</td>
        <td ng-if="key === 'deleted_from_second'" ng-bind-template="Deleted from {{uiEnv2}} ({{env2Version.name}})"></td>
        <td ng-if="key === 'added_in_second'" ng-bind-template="Added to {{uiEnv2}} ({{env2Version.name}})"></td>
        <td ng-if="key === 'changes'">Changes</td>
        <td ng-if="key === 'object_deleted_from_second'" ng-bind-template="Objects deleted from {{uiEnv2}} ({{env2Version.name}})"></td>
        <td ng-if="key === 'object_added_in_second'" ng-bind-template="Objects added to {{uiEnv2}} ({{env2Version.name}})"></td>
      </tr>
      <tr ng_class="hide_{{key}}" ng-hide="isCollapse['{{key}}'] === true">
        <td>
          <table
            border="1"
            class="table_container"
            ng-repeat="(k, val) in final[key]"
          >
            <tr>
              <td class="strong_title">{{k}}</td>
            </tr>
            <tr>
              <td>
                <table
                  border="1"
                  ng-class="{diff_gray_table: key != 'object_deleted_from_second' && key != 'object_added_in_second', diff_red_table: key === 'object_deleted_from_second', diff_green_table: key === 'object_added_in_second'}"
                  ng-repeat="(k1, val) in final[key][k]"
                  ng-if="key != 'deleted_from_second' && key != 'added_in_second'"
                >
                  <tr>
                    <td ng-if="key === 'changes' || key === 'new_value'"><strong>{{k1}}</strong></td>
                    <td ng-if="key != 'changes' && key != 'new_value' && key != 'added_in_second' && key != 'deleted_from_second'"><strong>{{k1}}</strong></td>
                    <td ng-if="key != 'added_in_second' && key != 'deleted_from_second'"></td>
                    <td ng-if="key === 'changes' || key === 'new_value'"></td>
                  </tr>
                  <!-- CHANGES & NEW VALUES -->
                  <tr ng-if="key === 'changes' || key === 'new_value'">
                    <td><strong>parameter</strong></td>
                    <td><strong ng-bind-template="{{uiEnv1}} ({{env1Version.name}})"></strong></td>
                    <td><strong ng-bind-template="{{uiEnv2}} ({{env2Version.name}})"></strong></td>
                  </tr>
                  <tr ng-repeat="item in final[key][k][k1]" ng-if="key === 'changes' || key === 'new_value'">
                    <td class="td_parameter">{{item.parameter}}</td>
                    <td class="td_parameter">{{item.first_diff_value}}</td>
                    <td class="td_parameter">{{item.second_diff_value}}</td>
                  </tr>
                  <!-- DELETED AND ADDED OBJECTS -->
                  <tr ng-if="key === 'object_deleted_from_second' || key === 'object_added_in_second'">
                    <td><strong>URL to edit</strong></td>
                    <td><strong>Values</strong></td>
                  </tr>
                  <tr ng-repeat="item in final[key][k][k1]" ng-if="key === 'object_deleted_from_second' || key === 'object_added_in_second'">
                    <td class="td_parameter" ng-if="$first" rowspan="{{final[key][k][k1].length}}">{{item.url_to_edit}}</td>
                    <td class="td_parameter">
                      <div>
                        <p ng-repeat="(iKey, iValue) in item" ng-if="iKey !== 'url_to_edit'" ng-bind-template="'{{iKey}}': '{{iValue}}'"></p>
                      </div>
                    </td>
                  </tr>
                </table>
                <table border="1" class="diff_green_table" ng-if="key === 'added_in_second'">
                  <!-- ADDED PARAMS -->
                  <tr ng-if="key === 'added_in_second'">
                  </tr>
                  <tr ng-repeat="item in final[key][k]" ng-if="key === 'deleted_from_second' || key === 'added_in_second'">
                    <td>{{item.name}}</td>
                  </tr>
                </table>
                <table border="1" class="diff_red_table" ng-if="key === 'deleted_from_second'">
                  <!-- DELETED PARAMS -->
                  <tr ng-repeat="item in final[key][k]" ng-if="key === 'deleted_from_second' || key === 'added_in_second'">
                    <td>{{item}}</td>
                  </tr>
                </table>
  
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </div>

  <div>
    <ul
      ng-repeat="x in compareData.APP_CFG.data track by $index"
      ng-hide="(x.diff === null || x.diff === 'incompatible') && showDiffOnly"
    >
      <hr />
      <li>
        <h5><b>{{ x.config }}</b></h5>
        <!-- <span>(Version: " {{ x.left_revision }} " -> " {{ x.right_revision }} " ) </span> -->
        <table border="1">
          <!-- <tr><td colspan=2><h5><b>{{ x.config }}</b></h5></td></tr> -->
          <tr>
            <td>Source version ({{env1}})</td>
            <td>Target version ({{env2}})</td>
          </tr>
          <tr>
            <td>{{ formatVersionValue(x.left_revision) }}</td>
            <td>{{ formatVersionValue(x.right_revision) }}</td>
          </tr>
        </table>

        <br /><br />

        <div ng-repeat="item in x.diff">
          <span ng-show="item.properties == null && !showDiffTables"
            >{{ item.pathText }}
            <b> ({{formatStatus(item.status.toUpperCase())}})</b></span
          >
          <br /><br />

          <p ng-repeat="prop in item.properties" ng-show="!showDiffTables">
            <input type="checkbox" ng-model="prop.checked" />
            <span ng-show="!prop.checked"
              >{{ item.pathText }}
              <b
                >{{formatProperty(prop.name,item.status.toUpperCase())}}</b
              ></span
            >
            <span ng-show="prop.checked" style="color: red"
              >{{ item.pathText }}
              <b
                >{{formatProperty(prop.name,item.status.toUpperCase())}}</b
              ></span
            >
            <br />

            <span ng-show="!prop.checked"
              ><u>Source Value ({{env1}}):</u>
              "{{formatSourceValue(prop.left_value)}}"</span
            >
            <span ng-show="prop.checked" style="color: red"
              ><u>Old Value:</u> "{{formatOldValue(prop.right_value)}}"</span
            >
            <br />
            <span ng-show="!prop.checked"
              ><u>Target Value ({{env2}}):</u>
              "{{formatTargetValue(prop.right_value)}}"</span
            >
            <span ng-show="prop.checked" style="color: red"
              ><b
                ><u>New Value:</u> "{{formatNewValue(prop.left_value)}}"</b
              ></span
            >
            <br />
          </p>

          <table
            border="1"
            style="width: 100%"
            ng-click="prop.checked = !prop.checked"
            ng-show="item.properties == null && showDiffTables"
          >
            <tr>
              <td colspan="2">
                {{ item.pathText }}
                <b>{{formatStatus(item.status.toUpperCase())}}</b>
              </td>
            </tr>
          </table>

          <div ng-repeat="prop in item.properties" ng-show="showDiffTables">
            <table
              border="1"
              style="width: 100%"
              ng-click="prop.checked = !prop.checked"
              ng-show="!prop.checked && showDiffTables"
            >
              <tr>
                <td colspan="2">
                  {{ item.pathText }}
                  <b>{{formatProperty(prop.name,item.status.toUpperCase())}}</b>
                </td>
              </tr>
              <tr>
                <td style="width: 160px">Source Value ({{env1}})</td>
                <td>{{formatSourceValue(prop.left_value)}}</td>
              </tr>
              <tr>
                <td style="width: 160px">Target Value ({{env2}})</td>
                <td>{{formatTargetValue(prop.right_value)}}</td>
              </tr>
            </table>

            <table
              bordercolor="red"
              border="3"
              style="width: 100%"
              ng-click="prop.checked = !prop.checked"
              ng-show="prop.checked && showDiffTables"
              style="color: red"
            >
              <tr>
                <td colspan="2">
                  {{ item.pathText }}
                  <b>{{formatProperty(prop.name,item.status.toUpperCase())}}</b>
                </td>
              </tr>
              <tr>
                <td style="width: 160px">Old Value</td>
                <td>{{formatOldValue(prop.right_value)}}</td>
              </tr>
              <tr>
                <td style="width: 160px"><b>New Value</b></td>
                <td><b>{{formatNewValue(prop.left_value)}}</b></td>
              </tr>
            </table>

            <br />
          </div>
        </div>
      </li>
    </ul>
  </div>
  <!-- <center><button id="diffApplyButtonAPP" class="SmartSearch-keyToggle btn" ng-click="diffApply()" ng-show="compareData != null">Apply</button></center> -->
  <br />
</div>

<div
  ng-show="diffView==='DOMAIN_CFG' && compareData != null"
  class="DashboardGraphs"
>
  <div>
    <ul
      ng-repeat="x in compareData.DOMAIN_CFG.data track by $index"
      ng-hide="(x.diff === null || x.diff === 'incompatible') && showDiffOnly"
    >
      <hr />
      <li>
        <h5><b>{{ x.config }}</b></h5>
        <br />

        <p ng-show="x.diff === 'incompatible'" style="color: red">
          INCOMPATIBLE
        </p>

        <div ng-repeat="item in x.diff">
          <span ng-show="item.properties == null && !showDiffTables"
            >{{ item.pathText }}
            <b> ({{formatStatus(item.status.toUpperCase())}})</b></span
          >
          <br /><br />

          <p ng-repeat="prop in item.properties" ng-show="!showDiffTables">
            <input type="checkbox" ng-model="prop.checked" />
            <span ng-show="!prop.checked"
              >{{ item.pathText }}
              <b
                >{{formatProperty(prop.name,item.status.toUpperCase())}}</b
              ></span
            >
            <span ng-show="prop.checked" style="color: red"
              >{{ item.pathText }}
              <b
                >{{formatProperty(prop.name,item.status.toUpperCase())}}</b
              ></span
            >
            <br />

            <span ng-show="!prop.checked"
              ><u>Source Value ({{env1}}):</u>
              "{{formatSourceValue(prop.left_value)}}"</span
            >
            <span ng-show="prop.checked" style="color: red"
              ><u>Old Value:</u> "{{formatOldValue(prop.right_value)}}"</span
            >
            <br />
            <span ng-show="!prop.checked"
              ><u>Target Value ({{env2}}):</u>
              "{{formatTargetValue(prop.right_value)}}"</span
            >
            <span ng-show="prop.checked" style="color: red"
              ><b
                ><u>New Value:</u> "{{formatNewValue(prop.left_value)}}"</b
              ></span
            >
            <br />
          </p>

          <table
            border="1"
            style="width: 100%"
            ng-click="prop.checked = !prop.checked"
            ng-show="item.properties == null && showDiffTables"
          >
            <tr>
              <td colspan="2">
                {{ item.pathText }}
                <b>{{formatStatus(item.status.toUpperCase())}}</b>
              </td>
            </tr>
          </table>

          <div ng-repeat="prop in item.properties" ng-show="showDiffTables">
            <table
              border="1"
              style="width: 100%"
              ng-click="prop.checked = !prop.checked"
              ng-show="!prop.checked && showDiffTables"
            >
              <tr>
                <td colspan="2">
                  {{ item.pathText }}
                  <b>{{formatProperty(prop.name,item.status.toUpperCase())}}</b>
                </td>
              </tr>
              <tr>
                <td style="width: 160px">Source Value ({{env1}})</td>
                <td>{{formatSourceValue(prop.left_value)}}</td>
              </tr>
              <tr>
                <td style="width: 160px">Target Value ({{env2}})</td>
                <td>{{formatTargetValue(prop.right_value)}}</td>
              </tr>
            </table>

            <table
              bordercolor="red"
              border="3"
              style="width: 100%"
              ng-click="prop.checked = !prop.checked"
              ng-show="prop.checked && showDiffTables"
              style="color: red"
            >
              <tr>
                <td colspan="2">
                  {{ item.pathText }}
                  <b>{{formatProperty(prop.name,item.status.toUpperCase())}}</b>
                </td>
              </tr>
              <tr>
                <td style="width: 160px">Old Value</td>
                <td>{{formatOldValue(prop.right_value)}}</td>
              </tr>
              <tr>
                <td style="width: 160px"><b>New Value</b></td>
                <td><b>{{formatNewValue(prop.left_value)}}</b></td>
              </tr>
            </table>

            <br />
          </div>
        </div>
      </li>
    </ul>
  </div>
  <center>
    <button
      id="diffApplyButtonDOMAIN"
      class="SmartSearch-keyToggle btn"
      ng-click="diffApply()"
      ng-show="compareData != null"
    >
      Apply
    </button>
  </center>
  <br />
</div>

<div
  ng-show="diffView==='SOACONFIG' && compareData != null"
  class="DashboardGraphs"
>
  <div>
    <ul
      ng-repeat="x in compareData.SOACONFIG.data track by $index"
      ng-hide="(x.diff === null || x.diff === 'incompatible') && showDiffOnly"
    >
      <hr />
      <li>
        <h5><b>{{ x.config }}</b></h5>
        <br />

        <p ng-show="x.diff === 'incompatible'" style="color: red">
          INCOMPATIBLE
        </p>

        <div ng-repeat="item in x.diff">
          <span ng-show="item.properties == null && !showDiffTables"
            >{{ item.pathText }}
            <b> {{formatStatus(item.status.toUpperCase())}}</b></span
          >
          <br /><br />

          <p ng-repeat="prop in item.properties" ng-show="!showDiffTables">
            <input type="checkbox" ng-model="prop.checked" />
            <span ng-show="!prop.checked"
              >{{ item.pathText }}
              <b
                >{{formatProperty(prop.name,item.status.toUpperCase())}}</b
              ></span
            >
            <span ng-show="prop.checked" style="color: red"
              >{{ item.pathText }}
              <b
                >{{formatProperty(prop.name,item.status.toUpperCase())}}</b
              ></span
            >
            <br />

            <span ng-show="!prop.checked"
              ><u>Source Value({{env1}}):</u>
              "{{formatSourceValue(prop.left_value)}}"</span
            >
            <span ng-show="prop.checked" style="color: red"
              ><u>Old Value:</u> "{{formatOldValue(prop.right_value)}}"</span
            >
            <br />
            <span ng-show="!prop.checked"
              ><u>Target Value({{env2}}):</u>
              "{{formatTargetValue(prop.right_value)}}"</span
            >
            <span ng-show="prop.checked" style="color: red"
              ><b
                ><u>New Value:</u> "{{formatNewValue(prop.left_value)}}"</b
              ></span
            >
            <br />
          </p>

          <table
            border="1"
            style="width: 100%"
            ng-show="item.properties == null && showDiffTables"
          >
            <tr>
              <td colspan="2">
                {{ item.pathText }}
                <b>{{formatStatus(item.status.toUpperCase())}}</b>
              </td>
            </tr>
          </table>

          <div ng-repeat="prop in item.properties" ng-show="showDiffTables">
            <table
              border="1"
              style="width: 100%"
              ng-click="prop.checked = !prop.checked"
              ng-show="!prop.checked && showDiffTables"
            >
              <tr>
                <td colspan="2">
                  {{ item.pathText }}
                  <b>{{formatProperty(prop.name,item.status.toUpperCase())}}</b>
                </td>
              </tr>
              <tr>
                <td style="width: 160px">Source Value ({{env1}})</td>
                <td>{{formatSourceValue(prop.left_value)}}</td>
              </tr>
              <tr>
                <td style="width: 160px">Target Value ({{env2}})</td>
                <td>{{formatTargetValue(prop.right_value)}}</td>
              </tr>
            </table>

            <table
              bordercolor="red"
              border="3"
              style="width: 100%"
              ng-click="prop.checked = !prop.checked"
              ng-show="prop.checked && showDiffTables"
              style="color: red"
            >
              <tr>
                <td colspan="2">
                  {{ item.pathText }}
                  <b>{{formatProperty(prop.name,item.status.toUpperCase())}}</b>
                </td>
              </tr>
              <tr>
                <td style="width: 160px">Old Value</td>
                <td>{{formatOldValue(prop.right_value)}}</td>
              </tr>
              <tr>
                <td style="width: 160px"><b>New Value</b></td>
                <td><b>{{formatNewValue(prop.left_value)}}</b></td>
              </tr>
            </table>

            <br />
          </div>
        </div>
      </li>
    </ul>
  </div>
  <center>
    <button
      id="diffApplyButtonSOA"
      class="SmartSearch-keyToggle btn"
      ng-click="diffApply()"
      ng-show="compareData != null"
    >
      Apply
    </button>
  </center>
  <br />
</div>

<div
  ng-show="diffView==='FMW_PATCH' && compareData != null"
  class="DashboardGraphs"
>
  <div>
    Description:
    <pre style="background-color: #FCFCFC; width:100%">
<!-- <div style="width:100%; border: 1px black" > -->
<span style="background-color:red; color: white; width: 100%; ">Value</span><span style="background-color:#FCFCFC" > - Removed Line</span>
<span style="background-color:green; color: white" >Value</span><span style="background-color:#FCFCFC" > - Added Line</span>
<span style="background-color:#FCFCFC" >Value - Same Line</span>
<!-- </div> -->
</pre>
  </div>
  <div ng-repeat="f in compareData.FMW_PATCH.data">
    <ul>
      <hr />
      <li>
        <h5><b>{{ f.file }}</b></h5>
        <br />
        <span ng-show="f.left_content === null && f.right_content === null"
          >Различий нет</span
        >
        <pre
          ng-show="f.left_content != null || f.right_content != null"
          style="background-color: #FCFCFC; width:100%"
        ><div style="width:100%" ng-repeat="line in f.diff_lines"><span style="background-color:red; color: white; width: 100%" ng-if="line.removed">{{line.value}}</span><span style="background-color:green; color: white" ng-if="line.added">{{line.value}}</span><span style="background-color:#FCFCFC" ng-if="!line.added && !line.removed">{{line.value}}</span></div></pre>
      </li>
    </ul>
  </div>
  <pre id="diffResult"></pre>
</div>

<div
  ng-show="diffView==='DATABASE_CFG' && compareData != null"
  class="DashboardGraphs"
>
  <div>
    Description:
    <pre style="background-color: #FCFCFC; width:100%">
<!-- <div style="width:100%; border: 1px black" > -->
<span style="background-color:red; color: white; width: 100%; ">Value</span><span style="background-color:#FCFCFC" > - Removed Line</span>
<span style="background-color:green; color: white" >Value</span><span style="background-color:#FCFCFC" > - Added Line</span>
<span style="background-color:#FCFCFC" >Value - Same Line</span>
<!-- </div> -->
</pre>
  </div>

  <div ng-repeat="f in compareData.DATABASE_CFG.data">
    <ul>
      <hr />
      <li>
        <h5><b>{{ f.file }}</b></h5>
        <br />
        <span ng-show="f.left_content === null && f.right_content === null"
          >Различий нет</span
        >
        <pre
          ng-show="f.left_content != null || f.right_content != null"
          style="background-color: #FCFCFC; width:100%"
        ><div style="width:100%" ng-repeat="line in f.diff_lines"><span style="background-color:red; color: white; width: 100%" ng-if="line.removed">{{line.value}}</span><span style="background-color:green; color: white; " ng-if="line.added">{{line.value}}</span><span style="background-color:#FCFCFC" ng-if="!line.added && !line.removed">{{line.value}}</span></div></pre>
      </li>
    </ul>
  </div>
  <pre id="diffResult"></pre>
</div>

<div
  ng-show="diffView==='OS_CFG' && compareData != null"
  class="DashboardGraphs"
>
  <div>
    Description:
    <pre style="background-color: #FCFCFC; width:100%">
<!-- <div style="width:100%; border: 1px black" > -->
<span style="background-color:red; color: white; width: 100%; ">Value</span><span style="background-color:#FCFCFC" > - Removed Line</span>
<span style="background-color:green; color: white" >Value</span><span style="background-color:#FCFCFC" > - Added Line</span>
<span style="background-color:#FCFCFC" >Value - Same Line</span>
<!-- </div> -->
</pre>
  </div>

  <h4 ng-show="compareData != null">Source Environment</h4>
  <div ng-repeat="f1 in compareData.OS_CFG.left">
    <ul>
      <hr />
      <li>
        <h5><b>{{ f1.host }}</b></h5>
        <br />

        <div ng-repeat="data1 in f1.diff.data">
          <b
            ><u><h6>{{data1.file}}:</h6></u></b
          >
          <div>
            <span
              ng-show="data1.left_content === null && data1.right_content === null"
              >Различий нет</span
            >
          </div>
          <pre
            ng-show="data1.left_content != null || data1.right_content != null"
            style="background-color: #FCFCFC; width:100%"
          ><div style="width:100%" ng-repeat="line in data1.diff_lines"><span style="background-color:red; color: white; width: 100%" ng-if="line.removed">{{line.value}}</span><span style="background-color:green; color: white" ng-if="line.added">{{line.value}}</span><span style="background-color:#FCFCFC" ng-if="!line.added && !line.removed">{{line.value}}</span></div></pre>
          <br />
        </div>
      </li>
    </ul>
  </div>
  <h4 ng-show="compareData != null">Target Environment</h4>
  <div ng-repeat="f2 in compareData.OS_CFG.right">
    <ul>
      <hr />
      <li>
        <h5><b>{{ f2.host }}</b></h5>
        <br />
        <div ng-repeat="data2 in f2.diff.data">
          <b
            ><u><h6>{{data2.file}}:</h6></u></b
          >
          <div>
            <span
              ng-show="data2.left_content === null && data2.right_content === null"
              >Различий нет</span
            >
          </div>
          <pre
            ng-show="data2.left_content != null || data2.right_content != null"
            style="background-color: #FCFCFC; width:100%"
          ><div style="width:100%" ng-repeat="line in data2.diff_lines"><span style="background-color:red; color: white; width: 100%" ng-if="line.removed">{{line.value}}</span><span style="background-color:green; color: white" ng-if="line.added">{{line.value}}</span><span style="background-color:#FCFCFC" ng-if="!line.added && !line.removed">{{line.value}}</span></div></pre>
          <br />
        </div>
      </li>
    </ul>
  </div>
</div>
